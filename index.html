<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Betterfly - First Time User Experience</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ios-blue': '#007AFF',
                        'ios-green': '#34C759',
                        'ios-red': '#FF3B30',
                        'ios-orange': '#FF9500',
                        'ios-purple': '#AF52DE',
                        'ios-pink': '#FF2D92',
                        'ios-teal': '#5AC8FA',
                        'ios-yellow': '#FFCC00',
                        'ios-gray': {
                            50: '#F2F2F7',
                            100: '#E5E5EA',
                            200: '#D1D1D6',
                            300: '#C7C7CC',
                            400: '#AEAEB2',
                            500: '#8E8E93',
                            600: '#636366',
                            700: '#48484A',
                            800: '#3A3A3C',
                            900: '#1C1C1E'
                        }
                    },
                    fontFamily: {
                        'sf-pro': ['-apple-system', 'BlinkMacSystemFont', 'SF Pro Display', 'Segoe UI', 'sans-serif'],
                    },
                    borderRadius: {
                        'ios': '10px',
                        'ios-lg': '16px',
                        'ios-xl': '20px',
                    },
                    spacing: {
                        'ios-safe-top': '44px',
                        'ios-safe-bottom': '34px',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
            background: #F2F2F7;
            overflow-x: hidden;
        }
        
        .ios-blur {
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }
        
        .ios-shadow {
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .ios-shadow-lg {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .ios-button {
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .ios-button:active {
            transform: scale(0.95);
        }
        
        .ios-spring {
            animation: ios-spring 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }
        
        @keyframes ios-spring {
            0% { transform: scale(0.9) translateY(10px); opacity: 0; }
            50% { transform: scale(1.02) translateY(-2px); opacity: 0.8; }
            100% { transform: scale(1) translateY(0); opacity: 1; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideLeft {
            from { opacity: 0; transform: translateX(100px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes slideRight {
            from { opacity: 0; transform: translateX(-100px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        .slide-left {
            animation: slideLeft 0.5s ease-out forwards;
        }
        
        .slide-right {
            animation: slideRight 0.5s ease-out forwards;
        }
        
        .betterfly-gradient {
            background: linear-gradient(135deg, #FF6B6B 0%, #4ECDC4 50%, #45B7D1 100%);
        }
        
        .progress-bar {
            transition: width 0.5s ease-out;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;

        // iOS FTUX Flow Component
        function BetterflyFTUX() {
            const [currentStep, setCurrentStep] = useState(0);
            const [userPreferences, setUserPreferences] = useState({
                goals: [],
                interests: [],
                experience: '',
                name: ''
            });
            const [checklist, setChecklist] = useState([
                { id: 1, title: 'Set your profile', completed: false, icon: 'üë§' },
                { id: 2, title: 'Choose your goals', completed: false, icon: 'üéØ' },
                { id: 3, title: 'Explore features', completed: false, icon: '‚ú®' }
            ]);

            const steps = [
                'welcome',
                'personalization-1',
                'personalization-2', 
                'checklist',
                'empty-state',
                'tour',
                'celebration'
            ];

            const nextStep = () => {
                if (currentStep < steps.length - 1) {
                    setCurrentStep(currentStep + 1);
                }
            };

            const prevStep = () => {
                if (currentStep > 0) {
                    setCurrentStep(currentStep - 1);
                }
            };

            const completeChecklistItem = (id) => {
                setChecklist(prev => 
                    prev.map(item => 
                        item.id === id ? { ...item, completed: true } : item
                    )
                );
            };

            return (
                <div className="w-full h-screen bg-ios-gray-50 overflow-hidden">
                    {steps[currentStep] === 'welcome' && (
                        <WelcomeScreen onNext={nextStep} />
                    )}
                    {steps[currentStep] === 'personalization-1' && (
                        <PersonalizationScreen1 
                            onNext={nextStep} 
                            onBack={prevStep}
                            preferences={userPreferences}
                            setPreferences={setUserPreferences}
                        />
                    )}
                    {steps[currentStep] === 'personalization-2' && (
                        <PersonalizationScreen2 
                            onNext={nextStep} 
                            onBack={prevStep}
                            preferences={userPreferences}
                            setPreferences={setUserPreferences}
                        />
                    )}
                    {steps[currentStep] === 'checklist' && (
                        <ChecklistScreen 
                            onNext={nextStep}
                            checklist={checklist}
                            onCompleteItem={completeChecklistItem}
                        />
                    )}
                    {steps[currentStep] === 'empty-state' && (
                        <EmptyStateScreen onNext={nextStep} />
                    )}
                    {steps[currentStep] === 'tour' && (
                        <TourScreen onNext={nextStep} />
                    )}
                    {steps[currentStep] === 'celebration' && (
                        <CelebrationScreen />
                    )}
                </div>
            );
        }

        // Welcome Screen Component
        function WelcomeScreen({ onNext }) {
            return (
                <div className="flex flex-col items-center justify-center h-full px-8 betterfly-gradient fade-in">
                    <div className="text-center space-y-8">
                        <div className="mb-8">
                            <div className="w-24 h-24 mx-auto mb-6 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm ios-spring">
                                <span className="text-4xl">ü¶ã</span>
                            </div>
                            <h1 className="text-4xl font-bold text-white mb-2">Welcome to Betterfly</h1>
                            <p className="text-xl text-white/80">Transform your wellness journey</p>
                        </div>

                        <div className="space-y-4">
                            <p className="text-lg text-white/90 leading-relaxed">
                                We're here to help you build healthy habits,<br />
                                track your progress, and celebrate your wins.
                            </p>
                        </div>

                        <button
                            onClick={onNext}
                            className="ios-button bg-white text-ios-blue font-semibold py-4 px-8 rounded-ios-lg text-lg ios-shadow-lg"
                        >
                            Let's get started
                        </button>
                    </div>
                </div>
            );
        }

        // Personalization Screen 1 - Goals
        function PersonalizationScreen1({ onNext, onBack, preferences, setPreferences }) {
            const goals = [
                { id: 'fitness', title: 'Stay Fit', icon: 'üí™', color: 'bg-red-500' },
                { id: 'mindfulness', title: 'Be Mindful', icon: 'üßò‚Äç‚ôÄÔ∏è', color: 'bg-purple-500' },
                { id: 'nutrition', title: 'Eat Better', icon: 'ü•ó', color: 'bg-green-500' },
                { id: 'sleep', title: 'Sleep Well', icon: 'üò¥', color: 'bg-blue-500' },
                { id: 'productivity', title: 'Be Productive', icon: '‚ö°', color: 'bg-orange-500' },
                { id: 'social', title: 'Connect More', icon: 'üë•', color: 'bg-pink-500' }
            ];

            const toggleGoal = (goalId) => {
                setPreferences(prev => ({
                    ...prev,
                    goals: prev.goals.includes(goalId) 
                        ? prev.goals.filter(id => id !== goalId)
                        : [...prev.goals, goalId]
                }));
            };

            return (
                <div className="w-full h-full bg-white slide-left" style={{ display: 'flex', flexDirection: 'column' }}>
                    {/* Header */}
                    <div className="p-6 bg-white" style={{ flexShrink: 0 }}>
                        <div className="flex items-center justify-between mb-6">
                            <button onClick={onBack} className="text-blue-500 text-lg ios-button">
                                ‚Üê Back
                            </button>
                            <button 
                                onClick={onNext} 
                                className="bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold ios-button"
                            >
                                Skip ‚Üí
                            </button>
                        </div>
                        <div className="flex space-x-2 mb-4 justify-center">
                            <div className="w-8 h-2 bg-blue-500 rounded-full"></div>
                            <div className="w-8 h-2 bg-gray-200 rounded-full"></div>
                        </div>
                        <h2 className="text-3xl font-bold text-gray-900 mb-2">What are your goals?</h2>
                        <p className="text-gray-600">Choose what matters most to you (select multiple)</p>
                    </div>

                    {/* Goals Grid */}
                    <div className="px-6" style={{ flex: 1, overflowY: 'auto' }}>
                        <div className="grid grid-cols-2 gap-4">
                            {goals.map((goal) => (
                                <button
                                    key={goal.id}
                                    onClick={() => toggleGoal(goal.id)}
                                    className={`ios-button p-4 rounded-lg border-2 transition-all ${
                                        preferences.goals.includes(goal.id)
                                            ? 'border-blue-500 bg-blue-50'
                                            : 'border-gray-200 bg-white'
                                    }`}
                                    style={{ height: '120px' }}
                                >
                                    <div className={`w-12 h-12 rounded-full ${goal.color} flex items-center justify-center mb-2 mx-auto`}>
                                        <span className="text-xl">{goal.icon}</span>
                                    </div>
                                    <h3 className="font-semibold text-gray-900 text-sm">{goal.title}</h3>
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* Floating Continue Button - GUARANTEED VISIBLE */}
                    <div 
                        style={{ 
                            position: 'fixed', 
                            bottom: '20px', 
                            left: '50%', 
                            transform: 'translateX(-50%)', 
                            zIndex: 1000,
                            width: '300px'
                        }}
                    >
                        <button
                            onClick={onNext}
                            className="w-full py-4 rounded-lg font-semibold text-lg ios-button bg-blue-500 text-white shadow-lg"
                            style={{ backgroundColor: '#3B82F6', color: 'white' }}
                        >
                            {preferences.goals.length > 0 
                                ? `Continue (${preferences.goals.length} selected)` 
                                : "Continue (Skip for now)"
                            }
                        </button>
                    </div>

                    {/* Spacer for floating button */}
                    <div style={{ height: '100px' }}></div>
                </div>
            );
        }

        // Personalization Screen 2 - Experience Level
        function PersonalizationScreen2({ onNext, onBack, preferences, setPreferences }) {
            const levels = [
                { 
                    id: 'beginner', 
                    title: 'Just Starting', 
                    subtitle: 'New to wellness tracking',
                    icon: 'üå±'
                },
                { 
                    id: 'intermediate', 
                    title: 'Some Experience', 
                    subtitle: 'I track some habits already',
                    icon: 'üåø'
                },
                { 
                    id: 'advanced', 
                    title: 'Very Experienced', 
                    subtitle: 'I use multiple wellness apps',
                    icon: 'üå≥'
                }
            ];

            return (
                <div className="flex flex-col h-full bg-white slide-left">
                    {/* Header */}
                    <div className="pt-ios-safe-top px-6 pb-4">
                        <div className="flex items-center justify-between mb-6">
                            <button onClick={onBack} className="text-ios-blue text-lg ios-button">
                                ‚Üê Back
                            </button>
                            <div className="flex space-x-2">
                                <div className="w-8 h-2 bg-ios-blue rounded-full"></div>
                                <div className="w-8 h-2 bg-ios-blue rounded-full"></div>
                            </div>
                        </div>
                        <h2 className="text-3xl font-bold text-ios-gray-900 mb-2">What's your experience?</h2>
                        <p className="text-ios-gray-600">Help us personalize your journey</p>
                    </div>

                    {/* Experience Levels */}
                    <div className="flex-1 px-6 space-y-4">
                        {levels.map((level) => (
                            <button
                                key={level.id}
                                onClick={() => setPreferences(prev => ({ ...prev, experience: level.id }))}
                                className={`ios-button w-full p-6 rounded-ios-lg border-2 text-left transition-all ${
                                    preferences.experience === level.id
                                        ? 'border-ios-blue bg-ios-blue/10'
                                        : 'border-ios-gray-200 bg-white'
                                }`}
                            >
                                <div className="flex items-center space-x-4">
                                    <div className="text-3xl">{level.icon}</div>
                                    <div>
                                        <h3 className="font-semibold text-ios-gray-900 text-lg">{level.title}</h3>
                                        <p className="text-ios-gray-600">{level.subtitle}</p>
                                    </div>
                                </div>
                            </button>
                        ))}
                    </div>

                    {/* Continue Button */}
                    <div className="p-6 pb-ios-safe-bottom">
                        <button
                            onClick={onNext}
                            disabled={!preferences.experience}
                            className={`w-full py-4 rounded-ios-lg font-semibold text-lg ios-button ${
                                preferences.experience
                                    ? 'bg-ios-blue text-white'
                                    : 'bg-ios-gray-200 text-ios-gray-400'
                            }`}
                        >
                            Continue
                        </button>
                    </div>
                </div>
            );
        }

        // Quick Start Checklist Screen
        function ChecklistScreen({ onNext, checklist, onCompleteItem }) {
            const completedCount = checklist.filter(item => item.completed).length;
            const progress = (completedCount / checklist.length) * 100;

            return (
                <div className="flex flex-col h-full bg-white slide-left">
                    {/* Header */}
                    <div className="pt-ios-safe-top px-6 pb-6">
                        <h2 className="text-3xl font-bold text-ios-gray-900 mb-2">Quick Setup</h2>
                        <p className="text-ios-gray-600 mb-6">Complete these steps to get the most out of Betterfly</p>
                        
                        {/* Progress Bar */}
                        <div className="bg-ios-gray-200 rounded-full h-2 mb-4">
                            <div
                                className="bg-ios-green h-2 rounded-full progress-bar"
                                style={{ width: `${progress}%` }}
                            />
                        </div>
                        <p className="text-sm text-ios-gray-600">{completedCount} of {checklist.length} completed</p>
                    </div>

                    {/* Checklist Items */}
                    <div className="flex-1 px-6 space-y-4">
                        {checklist.map((item) => (
                            <div
                                key={item.id}
                                className={`p-4 rounded-ios-lg border-2 transition-all ${
                                    item.completed
                                        ? 'border-ios-green bg-ios-green/10'
                                        : 'border-ios-gray-200 bg-white ios-shadow'
                                }`}
                            >
                                <div className="flex items-center justify-between">
                                    <div className="flex items-center space-x-4">
                                        <div className="text-2xl">{item.icon}</div>
                                        <div>
                                            <h3 className="font-semibold text-ios-gray-900">{item.title}</h3>
                                        </div>
                                    </div>
                                    {item.completed ? (
                                        <div className="w-6 h-6 bg-ios-green rounded-full flex items-center justify-center">
                                            <span className="text-white text-sm">‚úì</span>
                                        </div>
                                    ) : (
                                        <button
                                            onClick={() => onCompleteItem(item.id)}
                                            className="bg-ios-blue text-white px-4 py-2 rounded-ios font-medium ios-button"
                                        >
                                            Do it
                                        </button>
                                    )}
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Continue Button */}
                    <div className="p-6 pb-ios-safe-bottom">
                        <button
                            onClick={onNext}
                            className="w-full bg-ios-blue text-white py-4 rounded-ios-lg font-semibold text-lg ios-button"
                        >
                            {completedCount === checklist.length ? "Awesome! Let's continue" : "Skip for now"}
                        </button>
                    </div>
                </div>
            );
        }

        // Empty State Screen
        function EmptyStateScreen({ onNext }) {
            return (
                <div className="flex flex-col h-full bg-white slide-left">
                    {/* Header */}
                    <div className="pt-ios-safe-top px-6 pb-4">
                        <h2 className="text-2xl font-bold text-ios-gray-900">Your Dashboard</h2>
                    </div>

                    {/* Empty State Content */}
                    <div className="flex-1 flex flex-col items-center justify-center px-8 text-center">
                        <div className="w-32 h-32 bg-ios-gray-100 rounded-full flex items-center justify-center mb-6">
                            <span className="text-5xl">üìä</span>
                        </div>
                        <h3 className="text-2xl font-bold text-ios-gray-900 mb-4">Ready to start tracking?</h3>
                        <p className="text-ios-gray-600 text-lg leading-relaxed mb-8">
                            Your dashboard will show your progress,<br />
                            achievements, and insights as you<br />
                            build your wellness habits.
                        </p>

                        <div className="space-y-4 w-full">
                            <button className="w-full bg-ios-blue text-white py-4 rounded-ios-lg font-semibold text-lg ios-button">
                                Log your first activity
                            </button>
                            <button className="w-full bg-ios-gray-100 text-ios-gray-900 py-4 rounded-ios-lg font-semibold text-lg ios-button">
                                Explore features
                            </button>
                        </div>
                    </div>

                    {/* Continue Button */}
                    <div className="p-6 pb-ios-safe-bottom">
                        <button
                            onClick={onNext}
                            className="w-full bg-ios-gray-200 text-ios-gray-600 py-3 rounded-ios-lg font-medium ios-button"
                        >
                            Continue tour ‚Üí
                        </button>
                    </div>
                </div>
            );
        }

        // Tour Screen
        function TourScreen({ onNext }) {
            const [currentTip, setCurrentTip] = useState(0);
            
            const tips = [
                {
                    title: "Track Daily Habits",
                    description: "Log your activities and see your streaks grow",
                    icon: "üìà"
                },
                {
                    title: "Get Insights",
                    description: "Understand your patterns with smart analytics",
                    icon: "üß†"
                },
                {
                    title: "Stay Motivated",
                    description: "Earn badges and celebrate your progress",
                    icon: "üèÜ"
                }
            ];

            const nextTip = () => {
                if (currentTip < tips.length - 1) {
                    setCurrentTip(currentTip + 1);
                } else {
                    onNext();
                }
            };

            return (
                <div className="flex flex-col h-full bg-white slide-left">
                    {/* Skip Button */}
                    <div className="pt-ios-safe-top px-6 flex justify-end">
                        <button onClick={onNext} className="text-ios-blue font-medium ios-button">
                            Skip tour
                        </button>
                    </div>

                    {/* Tour Content */}
                    <div className="flex-1 flex flex-col items-center justify-center px-8 text-center">
                        <div className="space-y-6 fade-in">
                            <div className="w-24 h-24 bg-ios-blue/10 rounded-full flex items-center justify-center mb-6">
                                <span className="text-4xl">{tips[currentTip].icon}</span>
                            </div>
                            <h3 className="text-2xl font-bold text-ios-gray-900">{tips[currentTip].title}</h3>
                            <p className="text-ios-gray-600 text-lg leading-relaxed">
                                {tips[currentTip].description}
                            </p>
                        </div>

                        {/* Dots Indicator */}
                        <div className="flex space-x-2 mt-8">
                            {tips.map((_, index) => (
                                <div
                                    key={index}
                                    className={`w-2 h-2 rounded-full transition-all ${
                                        index === currentTip ? 'bg-ios-blue' : 'bg-ios-gray-300'
                                    }`}
                                />
                            ))}
                        </div>
                    </div>

                    {/* Next Button */}
                    <div className="p-6 pb-ios-safe-bottom">
                        <button
                            onClick={nextTip}
                            className="w-full bg-ios-blue text-white py-4 rounded-ios-lg font-semibold text-lg ios-button"
                        >
                            {currentTip === tips.length - 1 ? "Get started!" : "Next"}
                        </button>
                    </div>
                </div>
            );
        }

        // Celebration Screen
        function CelebrationScreen() {
            return (
                <div className="flex flex-col items-center justify-center h-full betterfly-gradient text-white text-center px-8 fade-in">
                    <div className="w-32 h-32 bg-white/20 rounded-full flex items-center justify-center mb-8 backdrop-blur-sm ios-spring">
                        <span className="text-6xl">üéâ</span>
                    </div>

                    <div>
                        <h2 className="text-3xl font-bold mb-4">You're all set!</h2>
                        <p className="text-xl text-white/90 leading-relaxed mb-8">
                            Welcome to your wellness journey.<br />
                            Let's make every day better together.
                        </p>
                    </div>

                    <button className="bg-white text-ios-blue font-semibold py-4 px-8 rounded-ios-lg text-lg ios-shadow-lg ios-button">
                        Start your journey
                    </button>
                </div>
            );
        }

        // Main App
        function App() {
            return (
                <div className="w-screen h-screen flex items-center justify-center bg-black">
                    <div className="w-[393px] h-[852px] relative overflow-hidden bg-white rounded-ios-xl ios-shadow-lg">
                        <BetterflyFTUX />
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>